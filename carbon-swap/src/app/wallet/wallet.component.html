<!-- Wallet -->
<div class="min-h-full flex items-center justify-center bg-gray-100 p-6 box-border">
  <div class="max-w-md w-full bg-white p-6 rounded shadow">
    <h1 class="text-2xl font-bold mb-4 text-center">Wallet ISIMA</h1>

    <p class="mb-2">
      Adresse :
      <strong>{{ userAddress || '...' }}</strong>
    </p>

    <p class="mb-4">
      Solde ISIMA :
      <strong>{{ isimaBalance }} ISIMA</strong>
    </p>

    <div class="space-y-3">
      <input
        [(ngModel)]="transferTo"
        placeholder="Adresse destinataire"
        class="w-full border p-2 rounded"
        [disabled]="busy"
      />

      <input
        [(ngModel)]="transferAmount"
        type="text"
        placeholder="Montant (ex : 12.5)"
        class="w-full border p-2 rounded"
        [disabled]="busy"
      />

      <button
        (click)="onTransferISIMA(transferTo, transferAmount)"
        class="w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors disabled:opacity-50"
        [disabled]="busy || !transferTo.trim() || !transferAmount.trim()"
      >
        <ng-container *ngIf="!busy; else transferring">
          Transfer ISIMA
        </ng-container>
        <ng-template #transferring>Transferringâ€¦</ng-template>
      </button>
    </div>
  </div>
</div>

<div
  *ngIf="errorMessage"
  class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
>
  <div class="bg-red-50 rounded-xl shadow-lg p-6 max-w-sm w-full">
    <h3 class="text-xl font-semibold text-red-600 mb-4">Erreur</h3>
    <p class="text-red-700 mb-6 whitespace-pre-wrap break-all overflow-y-auto max-h-48">
      {{ errorMessage }}
    </p>
    <div class="flex justify-end">
      <button
        (click)="closeError()"
        class="px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700 transition"
      >
        Fermer
      </button>
    </div>
  </div>
</div>
